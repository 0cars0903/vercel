<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 명함 스캐너</title>
    <!-- Tailwind CSS CDN for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* A simple style for the drag-over effect */
        .drag-over {
            border-color: #3b82f6; /* blue-500 */
            background-color: #eff6ff; /* blue-50 */
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen font-sans">

    <div class="w-full max-w-4xl bg-white rounded-xl shadow-lg p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl font-bold text-gray-800">AI 명함 스캐너</h1>
            <p class="text-gray-500 mt-2">명함 이미지를 업로드하여 텍스트를 추출하고 연락처를 저장하세요.</p>
        </header>

        <!-- Main container for two panels -->
        <main class="grid grid-cols-1 md:grid-cols-2 gap-8">
            
            <!-- Left Panel: Input -->
            <div id="upload-panel" class="flex flex-col items-center justify-center p-6 border-2 border-dashed border-gray-300 rounded-lg text-center cursor-pointer transition-all duration-300 hover:border-blue-500 hover:bg-blue-50">
                <input type="file" id="file-input" class="hidden" accept="image/*">
                
                <svg class="w-16 h-16 text-gray-400 mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 16.5V9.75m0 0l-3 3m3-3l3-3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z" />
                </svg>

                <p class="text-gray-700 font-semibold">이미지를 드래그 앤 드롭하거나 클릭하세요</p>
                <p class="text-sm text-gray-500 mt-1">PNG, JPG, GIF up to 10MB</p>
                
                <div id="file-name" class="mt-4 text-sm text-gray-600 font-medium"></div>
            </div>

            <!-- Right Panel: Output -->
            <div class="flex flex-col">
                <h2 class="text-xl font-semibold text-gray-700 mb-4">추출 결과</h2>
                <textarea id="result-text" class="w-full h-48 p-4 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" readonly placeholder="이곳에 OCR 처리 결과가 표시됩니다..."></textarea>
                
                <div class="mt-4 grid grid-cols-2 gap-4">
                    <button id="vcf-download" class="w-full bg-green-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-600 disabled:bg-gray-300 transition-colors" disabled>
                        VCF 다운로드
                    </button>
                    <button id="qr-download" class="w-full bg-gray-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-900 disabled:bg-gray-300 transition-colors" disabled>
                        QR 코드 생성
                    </button>
                </div>
            </div>

        </main>
    </div>

    <script>
        const uploadPanel = document.getElementById('upload-panel');
        const fileInput = document.getElementById('file-input');
        const fileNameDisplay = document.getElementById('file-name');
        const resultText = document.getElementById('result-text');
        const vcfButton = document.getElementById('vcf-download');
        const qrButton = document.getElementById('qr-download');

        // Trigger file input click
        uploadPanel.addEventListener('click', () => {
            fileInput.click();
        });

        // Handle file selection
        fileInput.addEventListener('change', (event) => {
            const file = event.target.files[0];
            if (file) {
                handleFile(file);
            }
        });

        // Drag and Drop events
        uploadPanel.addEventListener('dragover', (event) => {
            event.preventDefault(); // Prevent default behavior (opening file in browser)
            uploadPanel.classList.add('drag-over');
        });

        uploadPanel.addEventListener('dragleave', () => {
            uploadPanel.classList.remove('drag-over');
        });

        uploadPanel.addEventListener('drop', (event) => {
            event.preventDefault();
            uploadPanel.classList.remove('drag-over');
            const file = event.dataTransfer.files[0];
            if (file) {
                handleFile(file);
            }
        });

        function handleFile(file) {
            // Display file name
            fileNameDisplay.textContent = `선택된 파일: ${file.name}`;
            
            // --- Placeholder for API call ---
            // In a real application, you would send the 'file' object to the backend here.
            // For this example, we'll just simulate a successful response.
            console.log('Sending file to backend:', file.name);

            // Simulate receiving data from the backend
            setTimeout(() => {
                const mockResponse = "주식회사 테스트\n\n홍길동\n기획팀 / 팀장\n\nEmail: test@example.com\nPhone: 02-1234-5678";
                resultText.value = mockResponse;
                
                // Enable download buttons
                vcfButton.disabled = false;
                qrButton.disabled = false;
            }, 1500); // Simulate network delay
        }

    </script>
</body>
</html>
